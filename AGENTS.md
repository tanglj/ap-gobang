# 项目概述

这是一个基于 HTML5 Canvas 的五子棋（Gomoku）游戏，支持人机对战。游戏采用单文件架构，所有代码（HTML、CSS、JavaScript）都包含在一个 `gobang.html` 文件中。

## 技术栈

- **HTML5 Canvas**：用于绘制棋盘和棋子
- **CSS3**：用于界面样式和动画效果
- **原生 JavaScript**：实现游戏逻辑和 AI 算法

## 功能特性

- **15x15 标准棋盘**：采用传统五子棋棋盘布局，带有星位点
- **人机对战**：玩家执黑先行，AI 执白后行
- **智能 AI**：AI 使用评估函数算法，综合考虑进攻和防守策略
- **提示功能**：玩家可以点击提示按钮查看推荐落子位置
- **游戏规则说明**：右侧面板显示完整的游戏规则和操作说明
- **响应式设计**：界面美观，采用渐变色背景和卡片式布局
- **按钮状态管理**：未落子时提示和重新开始按钮禁用，落子后启用

## 运行方式

由于这是一个纯前端 HTML 文件，无需任何构建工具或依赖，可以直接在浏览器中打开：

```bash
# 方法 1: 直接用浏览器打开
open gobang.html

# 方法 2: 使用本地服务器（推荐）
python3 -m http.server 8000
# 然后在浏览器中访问 http://localhost:8000/gobang.html
```

## 核心组件

### 棋盘系统
- `BOARD_SIZE = 15`：棋盘大小 15x15
- `CELL_SIZE = 30`：每个格子 30 像素
- `OFFSET = 15`：棋盘边距

### 游戏状态
- `board[][]`：二维数组存储棋盘状态（0=空，1=黑，2=白）
- `currentPlayer`：当前玩家（1=玩家，2=AI）
- `gameOver`：游戏结束标志
- `hasPlayed`：是否已落子标志（用于控制按钮状态）
- `hintMoves`：提示位置数组

### AI 算法
- `aiMove()`：AI 落子函数，使用评估函数选择最优位置
- `evaluatePosition(x, y, player)`：评估某个位置的分数

### 评估函数
AI 使用启发式评估函数，考虑以下因素：
- 连子数量（2、3、4、5 连子）
- 开放端数量（两端是否被阻挡）
- 不同连子类型和开放端组合对应不同分数

## 开发规范

### 代码风格
- 使用驼峰命名法（camelCase）
- 函数名使用动词开头（如 `initBoard`、`drawBoard`、`checkWin`）
- 常量使用全大写（如 `BOARD_SIZE`、`CELL_SIZE`）
- CSS 类名使用连字符分隔（如 `game-container`、`current-player`）

### 文件结构
- HTML 结构：`<head>` 包含样式，`<body>` 包含界面元素和 `<script>`
- 样式组织：按组件分组（游戏容器、棋盘、按钮、规则面板、模态框）
- JavaScript 组织：
  1. 常量和变量声明
  2. 初始化函数
  3. 绘制函数
  4. 交互处理函数
  5. 游戏逻辑函数
  6. AI 算法函数
  7. 事件监听器

### 修改注意事项
- 修改 AI 算法时，确保评估函数的分数权重合理
- 修改棋盘大小时，需要同步调整 `BOARD_SIZE`、`CELL_SIZE` 和 Canvas 尺寸
- 添加新功能时，注意维护按钮状态（`hasPlayed` 标志）
- 所有界面文本都是中文，修改时保持语言一致性

## 已知特性

- 提示功能只在玩家回合且游戏未结束时可用
- 按钮在未落子时禁用，落子后启用
- 游戏结束时显示模态框，支持再来一局
- 棋子使用渐变色和阴影效果，增强视觉效果
- 提示标记使用绿色圆圈，可能有多个相同分数的位置

## 未来可能的改进方向

- 添加悔棋功能
- 添加音效
- 支持双人对战模式
- 添加游戏历史记录
- 支持保存和加载游戏
- 支持自定义棋盘大小